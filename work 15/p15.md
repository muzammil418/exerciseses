# üöç **Bus Route Timer & Delay Analyzer**


# **1. Background Story (Simple, relatable, no assumptions)**

Your city council is organizing a ‚ÄúTech Day‚Äù where students show how computers can analyze data to solve everyday problems. You decide to build a program that analyzes **a route with several checkpoints**.

Think of it like:

* A school bus route
* A pizza delivery route
* A gamer running speedrun checkpoints
* A robot following waypoints
* A treasure hunt race with fixed points

Every checkpoint has:

* A **planned** time
* An **actual** time
* A **delay** (computed)
* A **status** (on time, late, very late)

Your program will **read the route information from a Comma Seperated File (CSV)**.

---

# **2. Input Files **

The user prepares a file like this:

### **route.txt**

```
School Gate,07:30
Playground,07:40
Library,07:55
Market Road,08:10
Sports Center,08:25
Tech Hub,08:40
```

Each line:

```
StopName,HH:MM
```

Your program reads all stops from the file and stores them into an array of structs.

Then, **the user only enters the actual arrival times** when running the program.


---

# **3. Data Model **

You will create a struct like:

```
struct Stop {
    char name[40];
    int schedHour;
    int schedMin;
    int actHour;
    int actMin;
    int delay;
    int status; // enum
};
```

---

# **4. Status Enum (makes the code easier to read for others...)**

```
enum Status {
    ON_TIME,
    LATE,
    VERY_LATE
};
```

---

# **5. Required Functions **

You should write functions with these responsibilities:

### ‚úî `int readRoute(struct Stop stops[], int max);`

Reads the route file, fills struct array, returns number of stops.

### ‚úî `void enterActualTimes(struct Stop stops[], int count);`

Asks user for each actual time.

### ‚úî `int timeToMinutes(int hour, int min);`

Helper to convert HH:MM into minutes.

### ‚úî `void computeDelay(struct Stop *s);`

Calculates delay.

### ‚úî `void classifyStatus(struct Stop *s);`

Sets status using enum rules.

### ‚úî `void analyze(struct Stop stops[], int count);`

Runs delay + status functions on all stops.

### ‚úî `void printReport(struct Stop stops[], int count);`

Screens out a readable report.

### ‚úî `void saveReport(struct Stop stops[], int count, const char *filename);`

Writes results to a text file.


---

# **6. Computation Rules **

### **Delay calculation**

```
delay = actualMinutes - scheduledMinutes
```

### **Status rules**

* delay ‚â§ 3 ‚Üí ON_TIME
* delay 4‚Äì10 ‚Üí LATE
* delay > 10 ‚Üí VERY_LATE

---

# **7. Flow of the Program (Much easier than circular inputs)**

1. Load stops from `route.txt`
2. Ask user for **actual** times for each stop
3. Convert both times to minutes
4. Compute delay
5. Decide status
6. Print full report
7. Save report to a file


---

# **8. Example route.txt (10 records)**

```
School Gate,07:15
Playground,07:25
Library,07:40
River Bridge,07:55
Old Bakery,08:05
East Market,08:15
High School,08:25
Hill Road,08:35
Sports Complex,08:45
West Station,09:00
```

---

# **9. Example Output (10 records, not code)**

```
-----------------------------------
        Route Delay Report
-----------------------------------

1. School Gate
   Scheduled: 07:15
   Actual:    07:17
   Delay:     2 min
   Status:    ON_TIME

2. Playground
   Scheduled: 07:25
   Actual:    07:29
   Delay:     4 min
   Status:    LATE

3. Library
   Scheduled: 07:40
   Actual:    07:53
   Delay:     13 min
   Status:    VERY_LATE

4. River Bridge
   Scheduled: 07:55
   Actual:    07:57
   Delay:     2 min
   Status:    ON_TIME

5. Old Bakery
   Scheduled: 08:05
   Actual:    08:16
   Delay:     11 min
   Status:    VERY_LATE

6. East Market
   Scheduled: 08:15
   Actual:    08:22
   Delay:     7 min
   Status:    LATE

7. High School
   Scheduled: 08:25
   Actual:    08:25
   Delay:     0 min
   Status:    ON_TIME

8. Hill Road
   Scheduled: 08:35
   Actual:    08:50
   Delay:     15 min
   Status:    VERY_LATE

9. Sports Complex
   Scheduled: 08:45
   Actual:    08:48
   Delay:     3 min
   Status:    ON_TIME

10. West Station
   Scheduled: 09:00
   Actual:    09:07
   Delay:     7 min
   Status:    LATE

-----------------------------------
Average delay: 6 minutes
Worst delay: 15 minutes (Hill Road)
Report saved to: report.txt
```

---

# **10. Bonus tasks **

### ‚≠ê **1. Add color-coded output**

Use ANSI escape codes:

* Green for ON_TIME
* Yellow for LATE
* Red for VERY_LATE

### ‚≠ê **2. Load actual times from a second file**

Useful if they want zero user input.

### ‚≠ê **3. Add average-scheduled vs average-actual time**

Simple extension to mean calculations.

### ‚≠ê **5. Make it handle ANY number of stops**

Dynamic memory with `malloc()`.

---

